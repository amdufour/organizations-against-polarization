/*! project-name v0.0.1 | (c) 2020 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
const screenWidth=window.innerWidth,screenHeight=window.innerHeight,width=screenWidth>1200?800:screenWidth-30,height=screenHeight-100,colors=[{id:"red",hex:"#F94144"},{id:"orange",hex:"#F3722C"},{id:"yellow",hex:"#F9C74F"},{id:"pistachio",hex:"#90BE6D"},{id:"teal",hex:"#43AA8B"},{id:"blue",hex:"#577590"}],white="#FBFDFE",grey="#727A87",groups=["communications","civics","community","economy","technology","education"],radiusMin=8,radiusMax=60;let isActiveElement=!1,highlightedNodes=[];const nodeRadiusScale=d3.scaleLinear().domain(d3.extent(nodes,e=>e.estimated_people_impacted)).range([8,60]),getRadius=e=>"nan"==e?5:nodeRadiusScale(e);d3.selectAll(".links-group path").data(links).join("path"),d3.selectAll("g.node").data(nodes).join("g").on("mouseenter",e=>{d3.event.stopPropagation(),isActiveElement?highlightNode(e.id):highlightElements(e.id,!1),showInfo(e)}).on("mouseleave",e=>{isActiveElement?!highlightedNodes.includes(e.id)&&unHighlightNode(e.id):unhighlightElements(),hideInfo()}).on("click",e=>{handleClick(e)}).on("touchend",e=>{handleClick(e)}),addRadiusLegend(getRadius(1e6),getRadius(5e5),getRadius(5e3));const creationYear=2020,currentYear=(new Date).getFullYear(),copyrightYears=2020===currentYear?currentYear:`2020-${currentYear}`;document.querySelector(".copyright-years").innerHTML=copyrightYears;